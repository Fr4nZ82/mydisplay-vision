{
  "camera": "rtsp://admin:admin@192.168.1.11:554/streamtype=0",
  "width": 1920,
  "height": 1080,
  "target_fps": 10.0,
  "rtsp_transport": "tcp",
  "rtsp_buffer_frames": 2,
  "rtsp_open_timeout_ms": 4000,
  "rtsp_read_timeout_ms": 4000,
  "rtsp_reconnect_sec": 2.0,
  "rtsp_max_failures": 60,

  "debug_enabled": true,
  "debug_stream_fps": 5,
  "debug_resize_width": 960,

  "api_host": "127.0.0.1",
  "api_port": 8080,

  "detector_resize_width": 640,
  "yunet": {
    "onnx_path": "models/face_detection_yunet_2023mar.onnx",
    "score_th": 0.8,
    "nms_th": 0.3,
    "top_k": 5000
  },

  "count_mode": "presence",
  "presence_ttl_sec": 600,
  "appearance_hist_bins": 24,
  "appearance_min_area_px": 900,
  "appearance_weight": 0.35,

  "person_model_path": "models/yolov8n.onnx",
  "person_img_size": 640,
  "person_score_th": 0.25,
  "person_iou_th": 0.45,
  "person_max_det": 200,
  "person_backend": 0,
  "person_target": 0,
  "detector_backend": 0,
  "detector_target": 0,

  "face_assoc_iou_th": 0.20,
  "face_assoc_center_in": true,

  "age_model_path": "",
  "gender_model_path": "",
  "combined_model_path": "models/genderage.onnx",
  
  "combined_input_size": [96, 96],
  "combined_bgr_input": true,
  "combined_scale01": false,
  "combined_age_scale": 100.0,
  "combined_gender_order": ["female", "male"],
  "age_buckets": ["0-13","14-24","25-34","35-44","45-54","55-64","65+"],
  "cls_min_face_px": 64,
  "cls_min_conf": 0.35,
  "cls_interval_ms": 300,

  "tracker_max_age": 12,
  "tracker_min_hits": 3,
  "tracker_iou_th": 0.35,

  "roi_tripwire": [[0.5, 0.01], [0.5, 0.99]],
  "roi_direction": "both",
  "roi_band_px": 8,

  "reid_enabled": true,
  "reid_model_path": "models/arcfaceresnet100-8.onnx",
  "reid_similarity_th": 0.35,
  "reid_cache_size": 1000,
  "reid_memory_ttl_sec": 600,
  "reid_bank_size": 10,
  "reid_merge_sim": 0.55,
  "reid_prefer_oldest": true,
  "reid_app_only_th": 0.65,
  "reid_app_similarity_th": 0.82,
  "reid_face_gate": 0.42,
  "reid_require_face_if_available": true,
  "count_dedup_ttl_sec": 600,

  "body_reid_model_path": "models/osnet_x0_25_msmt17.onnx",
  "body_reid_input_w": 128,
  "body_reid_input_h": 256,
  "body_reid_backend": 0,
  "body_reid_target": 0,

  "body_only_th": 0.80,
  "reid_allow_body_seed": true,

  "debug_reid_verbose": false,

  "metrics_window_sec": 5,
  "metrics_retention_min": 120
}
